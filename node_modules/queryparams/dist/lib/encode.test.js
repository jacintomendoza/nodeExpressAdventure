"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var encode_1 = require("./encode");
var params_1 = require("./params");
var parse_1 = require("./parse");
describe("encode", function () {
    it("produces a new querystring given a new set of params", function () {
        var options = {
            visible: true,
            message: [
                ["hello world", 1],
                ["goodbye world", 1],
            ],
        };
        var querystring = encode_1.encode(options);
        expect(querystring).toEqual("visible=true&message%5B0%5D%5B0%5D=hello%20world&message%5B0%5D%5B1%5D=1&message%5B1%5D%5B0%5D=goodbye%20world&message%5B1%5D%5B1%5D=1");
        expect(params_1.params({}, querystring)).toEqual(options);
    });
    it("encodes nested arrays correctly", function () {
        var options = {
            ops: [
                ["a", "b", "c"],
                ["d", "e", "f"],
            ],
        };
        var querystring = encode_1.encode(options);
        expect(parse_1.parse(querystring)).toEqual(options);
    });
});
